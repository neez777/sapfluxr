% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/export_reporting.R
\name{calc_enhanced_statistics}
\alias{calc_enhanced_statistics}
\title{Calculate Enhanced Summary Statistics}
\usage{
calc_enhanced_statistics(
  vh_results,
  group_by = c("method"),
  temporal_aggregation = "daily",
  include_percentiles = TRUE,
  include_confidence_intervals = TRUE,
  confidence_level = 0.95,
  include_outlier_analysis = TRUE,
  include_distribution_tests = FALSE
)
}
\arguments{
\item{vh_results}{A vh_results object from calc_heat_pulse_velocity()}

\item{group_by}{Character vector specifying grouping variables:
"method", "sensor_position", "quality_flag", "temporal" (default: c("method"))}

\item{temporal_aggregation}{Character string: "hourly", "daily", "weekly", "monthly" (default: "daily")}

\item{include_percentiles}{Logical, whether to include percentile statistics (default: TRUE)}

\item{include_confidence_intervals}{Logical, whether to calculate confidence intervals (default: TRUE)}

\item{confidence_level}{Numeric, confidence level for intervals (default: 0.95)}

\item{include_outlier_analysis}{Logical, whether to perform outlier analysis (default: TRUE)}

\item{include_distribution_tests}{Logical, whether to perform normality tests (default: FALSE)}
}
\value{
List containing:
\describe{
\item{summary_stats}{Data frame with comprehensive summary statistics}
\item{temporal_patterns}{Data frame with temporal aggregation statistics}
\item{method_comparison}{Data frame with method comparison metrics}
\item{quality_assessment}{Data frame with quality flag statistics}
\item{outlier_analysis}{List with outlier detection results}
\item{distribution_tests}{List with distribution test results (if requested)}
\item{correlation_matrix}{Correlation matrix between methods}
}
}
\description{
Calculates comprehensive summary statistics for sap flow velocity data
with advanced statistical measures, temporal patterns, and method comparisons.
Extends the existing calc_velocity_stats() function with additional metrics.
}
\details{
Enhanced statistics include:
\itemize{
\item Basic descriptives: mean, median, SD, IQR, min, max
\item Percentiles: 5th, 10th, 25th, 75th, 90th, 95th
\item Confidence intervals for means
\item Outlier detection using multiple methods (IQR, z-score, modified z-score)
\item Temporal patterns and trends
\item Method agreement and correlation analysis
\item Quality flag distributions and patterns
\item Distribution tests (Shapiro-Wilk, Kolmogorov-Smirnov)
}
}
\examples{
\dontrun{
# Basic enhanced statistics
enhanced_stats <- calc_enhanced_statistics(vh_results)
print(enhanced_stats$summary_stats)

# Temporal analysis with hourly aggregation
temporal_stats <- calc_enhanced_statistics(
  vh_results,
  group_by = c("method", "temporal"),
  temporal_aggregation = "hourly",
  include_distribution_tests = TRUE
)
}

}
