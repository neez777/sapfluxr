% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/03h_flux_density.R
\name{apply_flux_conversion}
\alias{apply_flux_conversion}
\title{Apply Sap Flux Density Conversion to Data Frame}
\usage{
apply_flux_conversion(
  data,
  wood_properties,
  velocity_col = "Vc_cm_hr",
  output_col = "Jv_cm3_cm2_hr"
)
}
\arguments{
\item{data}{Data frame with velocity measurements}

\item{wood_properties}{WoodProperties R6 object with calculated Z factor}

\item{velocity_col}{Name of velocity column to convert. Default: "Vc_cm_hr"
(wound-corrected velocity). Use "Vh_cm_hr_sc" for spacing-corrected,
or "Vh_cm_hr" for raw velocity.}

\item{output_col}{Name for output column. Default: "Jv_cm3_cm2_hr"}
}
\value{
Data frame with added Jv column
}
\description{
Adds a sap flux density column (Jv) to a data frame containing heat pulse
velocity measurements.
}
\details{
This is a convenience wrapper around \code{\link{calc_sap_flux_density}}
for data frame operations.

\strong{Column Selection:}
\itemize{
\item "Vc_cm_hr" - Wound-corrected velocity (RECOMMENDED)
\item "Vh_cm_hr_sc" - Spacing-corrected velocity
\item "Vh_cm_hr" - Raw heat pulse velocity
}

Use the most corrected velocity available.
}
\examples{
\dontrun{
# After wound correction
vh_corrected <- apply_wound_correction(vh_data, ...)

# Convert to flux density
vh_corrected <- apply_flux_conversion(
  vh_corrected,
  wood_properties = wood_props,
  velocity_col = "Vc_cm_hr"
)

# Check results
head(vh_corrected[, c("datetime", "Vh_cm_hr", "Vc_cm_hr", "Jv_cm3_cm2_hr")])
}

}
\seealso{
Other flux density functions: 
\code{\link{calc_sap_flux_density}()},
\code{\link{get_sap_flux_conversion_factor}()}
}
\concept{flux density functions}
