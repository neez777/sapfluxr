% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/04e_sapwood_metrics.R
\name{calc_mean_flux_density}
\alias{calc_mean_flux_density}
\title{Calculate sapwood-area-weighted mean sap flux density}
\usage{
calc_mean_flux_density(Qp, As)
}
\arguments{
\item{Qp}{Numeric vector. Total tree sap flux in cm³/hr (from calc_sap_flux()).}

\item{As}{Numeric. Total sapwood cross-sectional area in cm² (from
calc_sapwood_areas()$total_sapwood_area_cm2). Should be a single value
or a vector matching the length of Qp.}
}
\value{
Numeric vector of sapwood-area-weighted mean sap flux density (Qps)
in cm³/hr/cm², which is equivalent to cm/hr (velocity units).
}
\description{
Calculates the sapwood-area-weighted mean sap flux density (Qps) by dividing
total tree sap flux (Qp) by total sapwood cross-sectional area (As). This
metric represents the average sap flux density across the entire sapwood and
allows meaningful comparison between trees of different sizes.
}
\details{
This is also referred to as sapwood-area-weighted mean sap velocity (Jvm).

The formula is:
Qps = Qp / As

Where:
\itemize{
\item Qp = total tree sap flux (cm³/hr)
\item As = total sapwood area (cm²)
\item Qps = sapwood-area-weighted mean flux density (cm³/hr/cm² = cm/hr)
}

This metric is conceptually similar to a weighted average velocity across
the entire sapwood profile, accounting for the non-uniform distribution
of sap flux density with depth.
}
\examples{
\dontrun{
# After calculating sap flux
sapwood_areas <- calc_sapwood_areas(dbh = 30, sapwood_depth = 2.5)
flux_results <- calc_sap_flux(flux_data, sapwood_areas)

# Calculate mean flux density
Qps <- calc_mean_flux_density(
  Qp = flux_results$Q_cm3_hr,
  As = sapwood_areas$total_sapwood_area_cm2
)
}

}
\seealso{
Other sapwood metrics: 
\code{\link{apply_sapwood_metrics}()},
\code{\link{calc_leaf_area_flux}()},
\code{\link{normalise_flux_density}()}
}
\concept{sapwood metrics}
