% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/03g_wound_correction.R
\name{calc_wound_diameter}
\alias{calc_wound_diameter}
\title{Calculate Time-Varying Wound Diameter}
\usage{
calc_wound_diameter(timestamps, wound_config)
}
\arguments{
\item{timestamps}{POSIXct vector of measurement timestamps}

\item{wound_config}{List or WoodProperties object containing wound configuration.
If WoodProperties object, uses the wound_correction section.
If list, must contain:
\describe{
\item{drill_bit_diameter_mm}{Drill bit diameter (mm)}
\item{wound_addition_mm}{Wound tissue addition per side (mm), default 0.3}
\item{initial_date}{Installation date (POSIXct or string)}
\item{final_date}{Final measurement date (POSIXct or string), optional}
\item{final_diameter_mm}{Final wound diameter (mm), optional}
}}
}
\value{
Numeric vector of wound diameters (cm) for each timestamp
}
\description{
Calculates wound diameter for given timestamps using linear interpolation
between initial and final wound measurements. Accounts for wound expansion
over time.
}
\details{
\strong{Calculation Method:}

Initial wound diameter = drill_bit_diameter + 2 Ã— wound_addition

If final measurements are provided, diameter is interpolated linearly:
\itemize{
\item Before initial_date: Use initial diameter
\item Between initial_date and final_date: Linear interpolation
\item After final_date: Use final diameter
}

If no final measurements, all timestamps use the initial diameter (static).

\strong{Units:}
Input in mm, output in cm (for compatibility with wound coefficient tables).
}
\examples{
\dontrun{
# Setup wound configuration
wound_cfg <- list(
  drill_bit_diameter_mm = 2.0,
  wound_addition_mm = 0.3,
  initial_date = as.POSIXct("2024-03-01"),
  final_date = as.POSIXct("2024-07-01"),
  final_diameter_mm = 2.6
)

# Calculate for specific dates
dates <- as.POSIXct(c("2024-03-01", "2024-05-01", "2024-07-01"))
wound_diams <- calc_wound_diameter(dates, wound_cfg)
# Returns wound diameters in cm
}

}
\concept{wound correction functions}
