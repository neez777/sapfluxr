% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/04f_daily_aggregation.R
\name{normalise_daily}
\alias{normalise_daily}
\title{Normalise daily sap flux by maximum value}
\usage{
normalise_daily(
  data,
  normalise_col = "Jvm_daily_cm3_cm2_day",
  period = "global",
  max_value = NULL,
  output_col = NULL,
  date_col = "date"
)
}
\arguments{
\item{data}{Data frame containing daily aggregated sap flux data (from
aggregate_daily()).}

\item{normalise_col}{Character. Name of column to normalise. Typically
"Jvm_daily_cm3_cm2_day" or "Qp_daily_L_day". Default: "Jvm_daily_cm3_cm2_day".}

\item{period}{Character. Period over which to calculate maximum:
\itemize{
\item "global": Maximum across entire dataset (default)
\item "monthly": Maximum within each month
\item "seasonal": Maximum within each season (3-month periods)
\item "custom": Use provided max_value
}}

\item{max_value}{Numeric. Custom maximum value for normalisation. Only used
if period = "custom". If NULL and period = "custom", will use global max.}

\item{output_col}{Character. Name for output normalised column. If NULL,
will be auto-generated as paste0(normalise_col, "_normalised").
Default: NULL.}

\item{date_col}{Character. Name of column containing date values. Default: "date".}
}
\value{
Input dataframe with added normalised column (values 0-1).
}
\description{
Normalises daily sap flux metrics (Jvm_daily or Qp_daily) with respect to
the maximum value observed during a specified period. This produces
dimensionless relative flux metrics ranging from 0 to 1.
}
\details{
The formula is:
normalised_value = value / max_value

Where max_value is determined by the period parameter.

Normalisation is useful for:
\itemize{
\item Comparing seasonal patterns across years
\item Removing absolute magnitude differences
\item Emphasising relative temporal dynamics
}
}
\examples{
\dontrun{
# Aggregate to daily
daily_data <- aggregate_daily(hourly_data)

# Global normalisation
daily_data <- normalise_daily(daily_data)

# Monthly normalisation
daily_data <- normalise_daily(
  daily_data,
  period = "monthly"
)

# Normalise total flux instead of flux density
daily_data <- normalise_daily(
  daily_data,
  normalise_col = "Qp_daily_L_day"
)
}

}
\seealso{
Other daily aggregation: 
\code{\link{aggregate_daily}()}
}
\concept{daily aggregation}
