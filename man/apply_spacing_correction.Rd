% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/03a_spacing_correction.R
\name{apply_spacing_correction}
\alias{apply_spacing_correction}
\title{Apply Spacing Correction to Velocity Data}
\usage{
apply_spacing_correction(
  vh_data,
  correction_params,
  method = "HRM",
  method_col = "method",
  vh_col = "Vh_cm_hr",
  create_new_col = TRUE
)
}
\arguments{
\item{vh_data}{Data frame containing velocity data to correct}

\item{correction_params}{Named list of correction parameters per sensor.
Each element should contain: \code{coef_a}, \code{coef_b}, \code{sensor_position}}

\item{method}{Method to correct (default: "HRM")}

\item{method_col}{Name of method column (default: "method")}

\item{vh_col}{Name of velocity column to correct (default: "Vh_cm_hr")}

\item{create_new_col}{Logical, whether to create new corrected column
(default: TRUE). If TRUE, creates "Vh_cm_hr_sc" column. If FALSE,
replaces values in vh_col.}
}
\value{
Data frame with corrections applied. If \code{create_new_col = TRUE},
adds columns:
\itemize{
\item \code{Vh_cm_hr_sc}: Spacing-corrected velocity
\item \code{spacing_correction_applied}: Logical flag
}
}
\description{
Applies linear correction (Corrected_Vh = a * Vh + b) to velocity data
using sensor-specific correction coefficients.
}
\details{
The correction formula is:

\code{Vh_corrected = a * Vh_original + b}

where \code{a} and \code{b} are sensor-specific coefficients determined
from zero-flow calibration.
}
\examples{
\dontrun{
# Define correction parameters for each sensor
correction_params <- list(
  outer = list(
    sensor_position = "outer",
    coef_a = 1.0234,
    coef_b = -0.8192,
    zero_vh = 0.8
  ),
  inner = list(
    sensor_position = "inner",
    coef_a = 0.9876,
    coef_b = -0.5432,
    zero_vh = 0.5
  )
)

# Apply corrections
vh_corrected <- apply_spacing_correction(
  vh_data = vh_cleaned,
  correction_params = correction_params,
  method = "HRM"
)
}

}
\seealso{
Other spacing correction functions: 
\code{\link{apply_manual_spacing_correction}()},
\code{\link{apply_spacing_correction_per_segment}()},
\code{\link{apply_spacing_correction_workflow}()},
\code{\link{calculate_burgess_coefficients}()},
\code{\link{calculate_zero_offset}()},
\code{\link{get_correction_coefficients}()},
\code{\link{print_spacing_correction_summary}()}
}
\concept{spacing correction functions}
